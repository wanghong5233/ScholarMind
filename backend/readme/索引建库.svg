<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 3815.381103515625 544.1607666015625" style="max-width: 3815.381103515625px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1760276477476-w5bbis6y4"><style>#mermaid-svg-1760276477476-w5bbis6y4{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#3b3b3b;}#mermaid-svg-1760276477476-w5bbis6y4 .error-icon{fill:#f2dede;}#mermaid-svg-1760276477476-w5bbis6y4 .error-text{fill:#f85149;stroke:#f85149;}#mermaid-svg-1760276477476-w5bbis6y4 .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1760276477476-w5bbis6y4 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1760276477476-w5bbis6y4 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1760276477476-w5bbis6y4 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1760276477476-w5bbis6y4 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1760276477476-w5bbis6y4 .marker{fill:#3b3b3b;stroke:#3b3b3b;}#mermaid-svg-1760276477476-w5bbis6y4 .marker.cross{stroke:#3b3b3b;}#mermaid-svg-1760276477476-w5bbis6y4 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1760276477476-w5bbis6y4 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#3b3b3b;}#mermaid-svg-1760276477476-w5bbis6y4 .cluster-label text{fill:#3b3b3b;}#mermaid-svg-1760276477476-w5bbis6y4 .cluster-label span,#mermaid-svg-1760276477476-w5bbis6y4 p{color:#3b3b3b;}#mermaid-svg-1760276477476-w5bbis6y4 .label text,#mermaid-svg-1760276477476-w5bbis6y4 span,#mermaid-svg-1760276477476-w5bbis6y4 p{fill:#3b3b3b;color:#3b3b3b;}#mermaid-svg-1760276477476-w5bbis6y4 .node rect,#mermaid-svg-1760276477476-w5bbis6y4 .node circle,#mermaid-svg-1760276477476-w5bbis6y4 .node ellipse,#mermaid-svg-1760276477476-w5bbis6y4 .node polygon,#mermaid-svg-1760276477476-w5bbis6y4 .node path{fill:#ffffff;stroke:#cecece;stroke-width:1px;}#mermaid-svg-1760276477476-w5bbis6y4 .flowchart-label text{text-anchor:middle;}#mermaid-svg-1760276477476-w5bbis6y4 .node .label{text-align:center;}#mermaid-svg-1760276477476-w5bbis6y4 .node.clickable{cursor:pointer;}#mermaid-svg-1760276477476-w5bbis6y4 .arrowheadPath{fill:#000000;}#mermaid-svg-1760276477476-w5bbis6y4 .edgePath .path{stroke:#3b3b3b;stroke-width:2.0px;}#mermaid-svg-1760276477476-w5bbis6y4 .flowchart-link{stroke:#3b3b3b;fill:none;}#mermaid-svg-1760276477476-w5bbis6y4 .edgeLabel{background-color:#ffffff99;text-align:center;}#mermaid-svg-1760276477476-w5bbis6y4 .edgeLabel rect{opacity:0.5;background-color:#ffffff99;fill:#ffffff99;}#mermaid-svg-1760276477476-w5bbis6y4 .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-svg-1760276477476-w5bbis6y4 .cluster rect{fill:#e5ebf1;stroke:#e5e5e5;stroke-width:1px;}#mermaid-svg-1760276477476-w5bbis6y4 .cluster text{fill:#3b3b3b;}#mermaid-svg-1760276477476-w5bbis6y4 .cluster span,#mermaid-svg-1760276477476-w5bbis6y4 p{color:#3b3b3b;}#mermaid-svg-1760276477476-w5bbis6y4 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#cccccc;border:1px solid #005fb8;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-1760276477476-w5bbis6y4 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#3b3b3b;}#mermaid-svg-1760276477476-w5bbis6y4 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1760276477476-w5bbis6y4_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1760276477476-w5bbis6y4_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1760276477476-w5bbis6y4_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1760276477476-w5bbis6y4_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g id="INDEX" class="cluster default flowchart-label"><rect height="119.33333206176758" width="324.8383483886719" y="7.999998092651367" x="3000.9749603271484" ry="0" rx="0" style=""/><g transform="translate(3163.3941345214844, 7.999998092651367)" class="cluster-label"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">索引层</tspan></text></g></g><g id="PARSE" class="cluster default flowchart-label"><rect height="149.9166612625122" width="1367.1659317016602" y="0" x="1583.8090286254883" ry="0" rx="0" style=""/><g transform="translate(2267.3919944763184, 0)" class="cluster-label"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">解析与增强</tspan></text></g></g><g id="FS" class="cluster default flowchart-label"><rect height="139.19438934326172" width="290.7706298828125" y="169.9166612625122" x="1583.8090286254883" ry="0" rx="0" style=""/><g transform="translate(1729.1943435668945, 169.9166612625122)" class="cluster-label"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">FS</tspan></text></g></g><g id="DB" class="cluster default flowchart-label"><rect height="256.97046661376953" width="233.9009246826172" y="271.19027042388916" x="2483.649642944336" ry="0" rx="0" style=""/><g transform="translate(2600.6001052856445, 271.19027042388916)" class="cluster-label"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">PostgreSQL</tspan></text></g></g><g id="JOB" class="cluster default flowchart-label"><rect height="375.9305229187012" width="733.4006042480469" y="22.58333110809326" x="800.4084243774414" ry="0" rx="0" style=""/><g transform="translate(1167.1087265014648, 22.58333110809326)" class="cluster-label"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">JOB</tspan></text></g></g><g id="API" class="cluster default flowchart-label"><rect height="299.48523139953613" width="180.33323669433594" y="193.68052291870117" x="512.6976013183594" ry="0" rx="0" style=""/><g transform="translate(602.8642196655273, 193.68052291870117)" class="cluster-label"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">API</tspan></text></g></g><g id="Client" class="cluster default flowchart-label"><rect height="135.3333282470703" width="462.6976013183594" y="280.7564744949341" x="0" ry="0" rx="0" style=""/><g transform="translate(231.3488006591797, 280.7564744949341)" class="cluster-label"><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Client</tspan></text></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-UPL LE-DOCRT" id="L-UPL-DOCRT-0" d="M437.698,348.423L441.864,348.423C446.031,348.423,454.364,348.423,462.698,348.423C471.031,348.423,479.364,348.423,487.698,348.423C496.031,348.423,504.364,348.423,511.814,348.423C519.264,348.423,525.831,348.423,529.114,348.423L532.398,348.423"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-DOCRT LE-JR" id="L-DOCRT-JR-0" d="M616.663,331.756L629.391,316.383C642.119,301.009,667.575,270.261,689.251,254.888C710.927,239.514,728.823,239.514,746.72,239.514C764.616,239.514,782.512,239.514,794.744,239.514C806.975,239.514,813.542,239.514,816.825,239.514L820.108,239.514"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-JR LE-LH" id="L-JR-LH-0" d="M1002.372,239.514L1018.613,239.514C1034.854,239.514,1067.337,239.514,1101.121,239.514C1134.905,239.514,1169.991,239.514,1187.534,239.514L1205.077,239.514"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-JR LE-OH" id="L-JR-OH-0" d="M960.061,264.181L983.354,276.625C1006.647,289.069,1053.233,313.958,1091.885,326.403C1130.536,338.847,1161.252,338.847,1176.61,338.847L1191.968,338.847"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-LH LE-FILES" id="L-LH-FILES-0" d="M1495.7,239.514L1502.051,239.514C1508.403,239.514,1521.106,239.514,1531.624,239.514C1542.142,239.514,1550.476,239.514,1558.809,239.514C1567.142,239.514,1575.476,239.514,1593.446,239.514C1611.416,239.514,1639.022,239.514,1652.825,239.514L1666.629,239.514"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-OH LE-DOCS" id="L-OH-DOCS-0" d="M1508.809,338.847L1512.976,338.847C1517.142,338.847,1525.476,338.847,1533.809,338.847C1542.142,338.847,1550.476,338.847,1558.809,338.847C1567.142,338.847,1575.476,338.847,1603.873,338.847C1632.271,338.847,1680.733,338.847,1729.194,338.847C1777.656,338.847,1826.118,338.847,1854.515,338.847C1882.913,338.847,1891.246,338.847,1915.698,338.847C1940.15,338.847,1980.721,338.847,2021.292,338.847C2061.863,338.847,2102.433,338.847,2143.688,338.847C2184.943,338.847,2226.882,338.847,2274.156,338.847C2321.429,338.847,2374.037,338.847,2409.841,338.847C2445.646,338.847,2464.648,338.847,2485.013,338.847C2505.379,338.847,2527.108,338.847,2537.973,338.847L2548.838,338.847"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-DOCRT LE-KBS" id="L-DOCRT-KBS-0" d="M616.663,365.09L629.391,380.464C642.119,395.837,667.575,426.585,689.251,441.959C710.927,457.332,728.823,457.332,746.72,457.332C764.616,457.332,782.512,457.332,810.374,457.332C838.236,457.332,876.063,457.332,925.965,457.332C975.867,457.332,1037.843,457.332,1111.035,457.332C1184.226,457.332,1268.632,457.332,1340.964,457.332C1413.295,457.332,1473.552,457.332,1507.847,457.332C1542.142,457.332,1550.476,457.332,1558.809,457.332C1567.142,457.332,1575.476,457.332,1603.873,457.332C1632.271,457.332,1680.733,457.332,1729.194,457.332C1777.656,457.332,1826.118,457.332,1854.515,457.332C1882.913,457.332,1891.246,457.332,1915.698,457.332C1940.15,457.332,1980.721,457.332,2021.292,457.332C2061.863,457.332,2102.433,457.332,2143.688,457.332C2184.943,457.332,2226.882,457.332,2274.156,457.332C2321.429,457.332,2374.037,457.332,2409.841,457.332C2445.646,457.332,2464.648,457.332,2481.873,457.332C2499.098,457.332,2514.546,457.332,2522.27,457.332L2529.994,457.332"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-JR LE-PIH" id="L-JR-PIH-0" d="M943.053,214.847L969.181,192.748C995.309,170.648,1047.564,126.449,1091.646,104.35C1135.727,82.25,1171.634,82.25,1189.588,82.25L1207.542,82.25"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-PIH LE-P0" id="L-PIH-P0-0" d="M1493.235,82.25L1499.997,82.25C1506.76,82.25,1520.284,82.25,1531.213,82.25C1542.142,82.25,1550.476,82.25,1558.809,82.25C1567.142,82.25,1575.476,82.25,1582.926,82.25C1590.376,82.25,1596.942,82.25,1600.226,82.25L1603.509,82.25"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P0 LE-P1" id="L-P0-P1-0" d="M1849.58,82.25L1853.746,82.25C1857.913,82.25,1866.246,82.25,1874.58,82.25C1882.913,82.25,1891.246,82.25,1898.696,82.25C1906.146,82.25,1912.713,82.25,1915.996,82.25L1919.28,82.25"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P1 LE-P2" id="L-P1-P2-0" d="M2118.004,82.25L2122.171,82.25C2126.337,82.25,2134.671,82.25,2142.121,82.25C2149.571,82.25,2156.137,82.25,2159.421,82.25L2162.704,82.25"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P2 LE-P3" id="L-P2-P3-0" d="M2369.639,72.934L2379.14,72.056C2388.641,71.178,2407.643,69.422,2426.644,68.545C2445.646,67.667,2464.648,67.667,2477.432,67.667C2490.216,67.667,2496.783,67.667,2500.066,67.667L2503.35,67.667"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P3 LE-P4" id="L-P3-P4-0" d="M2692.551,67.667L2696.717,67.667C2700.884,67.667,2709.217,67.667,2717.551,67.667C2725.884,67.667,2734.217,67.667,2741.667,67.667C2749.117,67.667,2755.684,67.667,2758.967,67.667L2762.251,67.667"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P4 LE-ESX" id="L-P4-ESX-0" d="M2925.975,67.667L2930.142,67.667C2934.308,67.667,2942.642,67.667,2950.975,67.667C2959.308,67.667,2967.642,67.667,2975.975,67.667C2984.308,67.667,2992.642,67.667,3000.092,67.667C3007.542,67.667,3014.108,67.667,3017.392,67.667L3020.675,67.667"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P2 LE-DOCS" id="L-P2-DOCS-0" d="M2369.639,94.547L2379.14,95.706C2388.641,96.865,2407.643,99.182,2426.644,100.341C2445.646,101.5,2464.648,101.5,2490.569,134.932C2516.491,168.364,2549.331,235.229,2565.752,268.661L2582.172,302.093"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ESX LE-ESC" id="L-ESX-ESC-0" d="M3115.871,67.667L3120.037,67.667C3124.204,67.667,3132.537,67.667,3139.987,67.667C3147.437,67.667,3154.004,67.667,3157.287,67.667L3160.571,67.667"/><path marker-end="url(#mermaid-svg-1760276477476-w5bbis6y4_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ESC LE-ES" id="L-ESC-ES-0" d="M3300.813,67.667L3304.98,67.667C3309.147,67.667,3317.48,67.667,3352.069,67.667C3386.657,67.667,3447.502,67.667,3507.463,67.667C3567.423,67.667,3626.501,67.667,3656.04,67.667L3685.578,67.667"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g transform="translate(746.7196311950684, 239.51385593414307)" class="edgeLabel"><g transform="translate(-28.688793182373047, -9.166666030883789)" class="label"><rect height="17.884857177734375" width="58.61975860595703" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">创建Job</tspan></text></g></g><g transform="translate(1099.8197326660156, 239.51385593414307)" class="edgeLabel"><g transform="translate(-16.00260353088379, -9.166666030883789)" class="label"><rect height="17.884857177734375" width="32.38648986816406" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">分发</tspan></text></g></g><g transform="translate(1099.8197326660156, 338.84718799591064)" class="edgeLabel"><g transform="translate(-16.00260353088379, -9.166666030883789)" class="label"><rect height="17.884857177734375" width="32.38648986816406" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">分发</tspan></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g transform="translate(1729.1943435668945, 457.3324213027954)" class="edgeLabel"><g transform="translate(-36.197914123535156, -9.166666030883789)" class="label"><rect height="17.884857177734375" width="72.75699615478516" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">鉴权/配额</tspan></text></g></g><g transform="translate(1099.8197326660156, 82.24999713897705)" class="edgeLabel"><g transform="translate(-72.44791412353516, -17.16666603088379)" class="label"><rect height="33.884857177734375" width="144.85118103027344" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">解析/索引Job</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">payload 含 sessionId</tspan></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g transform="translate(2426.6444358825684, 101.49999618530273)" class="edgeLabel"><g transform="translate(-32.00520706176758, -9.166666030883789)" class="label"><rect height="17.884857177734375" width="64.37055969238281" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">更新字段</tspan></text></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve"/></text></g></g><g transform="translate(3508.3458557128906, 67.66666412353516)" class="edgeLabel"><g transform="translate(-157.5325469970703, -17.16666603088379)" class="label"><rect height="33.884857177734375" width="314.9382019042969" ry="0" rx="0"/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">批量写入</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">index= scholarmind_default 或 sm_sess_:sid</tspan></text></g></g></g><g class="nodes"><g transform="translate(3070.9228439331055, 67.66666412353516)" id="flowchart-ESX-5122" class="node default default flowchart-label"><rect height="49.33333206176758" width="89.89576721191406" y="-24.66666603088379" x="-44.94788360595703" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.16666603088379)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">ESIndexer</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">indexer.py</tspan></text></g></g><g transform="translate(3233.3420181274414, 67.66666412353516)" id="flowchart-ESC-5123" class="node default default flowchart-label"><rect height="49.33333206176758" width="134.94258880615234" y="-24.66666603088379" x="-67.47129440307617" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.16666603088379)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">ESConnection</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">utils/es_conn.py</tspan></text></g></g><g transform="translate(1729.1943435668945, 82.24999713897705)" id="flowchart-P0-5117" class="node default default flowchart-label"><rect height="65.33333206176758" width="240.77064514160156" y="-32.66666603088379" x="-120.38532257080078" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -25.16666603088379)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">deepdoc 入口</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">service/core/rag/app/naive.py</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">Pdf / Docx</tspan></text></g></g><g transform="translate(2021.2918243408203, 82.24999713897705)" id="flowchart-P1-5118" class="node default default flowchart-label"><rect height="65.33333206176758" width="193.42433166503906" y="-32.66666603088379" x="-96.71216583251953" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -25.16666603088379)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">深度解析</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">DeepdocDocumentParser</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">document_parser.py</tspan></text></g></g><g transform="translate(2268.8216094970703, 82.24999713897705)" id="flowchart-P2-5119" class="node default default flowchart-label"><rect height="65.33333206176758" width="201.63523864746094" y="-32.66666603088379" x="-100.81761932373047" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -25.16666603088379)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">元数据补全</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">DefaultMetadataExtractor</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">metadata_extractor.py</tspan></text></g></g><g transform="translate(2600.6001052856445, 67.66666412353516)" id="flowchart-P3-5120" class="node default default flowchart-label"><rect height="65.33333206176758" width="183.9009246826172" y="-32.66666603088379" x="-91.9504623413086" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -25.16666603088379)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">语义分块(亮点)</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">SemanticAwareChunker</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">chunker.py</tspan></text></g></g><g transform="translate(2846.762763977051, 67.66666412353516)" id="flowchart-P4-5121" class="node default default flowchart-label"><rect height="65.33333206176758" width="158.4243927001953" y="-32.66666603088379" x="-79.21219635009766" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -25.16666603088379)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">向量化</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">SimpleAPIEmbedder</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">embedder.py</tspan></text></g></g><g transform="translate(1729.1943435668945, 239.51385593414307)" id="flowchart-FILES-5116" class="node default default flowchart-label"><path transform="translate(-57.265625,-34.597194406617646)" d="M 0,11.953685583822569 a 57.265625,11.953685583822569 0,0,0 114.53125 0 a 57.265625,11.953685583822569 0,0,0 -114.53125 0 l 0,45.28701764559015 a 57.265625,11.953685583822569 0,0,0 114.53125 0 l 0,-45.28701764559015" style=""/><g transform="translate(0, -9.166666030883789)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">PDF/临时文件</tspan></text></g></g><g transform="translate(2600.6001052856445, 338.84718799591064)" id="flowchart-DOCS-5114" class="node default default flowchart-label"><path transform="translate(-46.46221160888672,-32.656915399052366)" d="M 0,10.66016624544572 a 46.46221160888672,10.66016624544572 0,0,0 92.92442321777344 0 a 46.46221160888672,10.66016624544572 0,0,0 -92.92442321777344 0 l 0,43.9934983072133 a 46.46221160888672,10.66016624544572 0,0,0 92.92442321777344 0 l 0,-43.9934983072133" style=""/><g transform="translate(0, -9.166666030883789)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">documents</tspan></text></g></g><g transform="translate(2600.6001052856445, 457.3324213027954)" id="flowchart-KBS-5115" class="node default default flowchart-label"><path transform="translate(-65.30594253540039,-35.82831686256702)" d="M 0,12.774433887788824 a 65.30594253540039,12.774433887788824 0,0,0 130.61188507080078 0 a 65.30594253540039,12.774433887788824 0,0,0 -130.61188507080078 0 l 0,46.1077659495564 a 65.30594253540039,12.774433887788824 0,0,0 130.61188507080078 0 l 0,-46.1077659495564" style=""/><g transform="translate(0, -9.166666030883789)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">knowledgebases</tspan></text></g></g><g transform="translate(913.8901214599609, 239.51385593414307)" id="flowchart-JR-5110" class="node default default flowchart-label"><rect height="49.33333206176758" width="176.96339416503906" y="-24.66666603088379" x="-88.48169708251953" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.16666603088379)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">JobRunnerService</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">job_runner_service.py</tspan></text></g></g><g transform="translate(1353.0383377075195, 239.51385593414307)" id="flowchart-LH-5111" class="node default default flowchart-label"><rect height="49.33333206176758" width="285.3226623535156" y="-24.66666603088379" x="-142.6613311767578" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.16666603088379)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">LocalUploadHandler</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">job_handler/local_upload_handler.py</tspan></text></g></g><g transform="translate(1353.0383377075195, 338.84718799591064)" id="flowchart-OH-5112" class="node default default flowchart-label"><rect height="49.33333206176758" width="311.5413818359375" y="-24.66666603088379" x="-155.77069091796875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.16666603088379)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">OnlineIngestionHandler</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">job_handler/online_ingestion_handler.py</tspan></text></g></g><g transform="translate(1353.0383377075195, 82.24999713897705)" id="flowchart-PIH-5113" class="node default default flowchart-label"><rect height="49.33333206176758" width="280.39300537109375" y="-24.66666603088379" x="-140.19650268554688" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -17.16666603088379)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">ParseIndexHandler</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">job_handler/parse_index_handler.py</tspan></text></g></g><g transform="translate(602.8642196655273, 348.42313861846924)" id="flowchart-DOCRT-5109" class="node default default flowchart-label"><rect height="33.33333206176758" width="130.33323669433594" y="-16.66666603088379" x="-65.16661834716797" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -9.166666030883789)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">document_rt.py</tspan></text></g></g><g transform="translate(231.3488006591797, 348.42313861846924)" id="flowchart-UPL-5108" class="node default default flowchart-label"><rect height="65.33333206176758" width="412.6976013183594" y="-32.66666603088379" x="-206.3488006591797" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(0, -25.16666603088379)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">上传/在线添加</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">POST /api/sessions/:sid/upload</tspan><tspan class="row" x="0" dy="1em" xml:space="preserve">POST /api/knowledgebases/:kb/documents/add-online</tspan></text></g></g><g transform="translate(3745.1297035217285, 67.66666412353516)" id="flowchart-ES-5152" class="node default default flowchart-label"><path transform="translate(-54.25130081176758,-34.0919432337587)" d="M 0,11.61685146858327 a 54.25130081176758,11.61685146858327 0,0,0 108.50260162353516 0 a 54.25130081176758,11.61685146858327 0,0,0 -108.50260162353516 0 l 0,44.95018353035085 a 54.25130081176758,11.61685146858327 0,0,0 108.50260162353516 0 l 0,-44.95018353035085" style=""/><g transform="translate(0, -9.166666030883789)" style="" class="label"><rect/><text style=""><tspan class="row" x="0" dy="1em" xml:space="preserve">Elasticsearch</tspan></text></g></g></g></g></g></svg>